(this["webpackJsonpitunes-search"]=this["webpackJsonpitunes-search"]||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(17),s=c.n(i),l=(c(24),c(9)),r=c(2),d=(c(25),c(7)),o=function(e,t){var c="jsonp_callback_"+Math.round(1e5*Math.random());window[c]=function(e){delete window[c],document.body.removeChild(n),t(e)};var n=document.createElement("script");n.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+c,document.body.appendChild(n)},j=c(18),u=c(1),b=function(e){var t=e.data;return Object(u.jsx)("table",{className:"table",children:Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("img",{src:null===e||void 0===e?void 0:e.artworkUrl60,loading:"lazy",alt:"".concat(null===e||void 0===e?void 0:e.artistName," - ").concat(null===e||void 0===e?void 0:e.trackName)})}),Object(u.jsx)("td",{children:null===e||void 0===e?void 0:e.artistName}),Object(u.jsx)("td",{children:null===e||void 0===e?void 0:e.trackName}),Object(u.jsx)("td",{className:"table__details",children:Object(u.jsx)(l.b,{to:"/".concat(null===e||void 0===e?void 0:e.trackId),children:"Details"})})]},null===e||void 0===e?void 0:e.trackId)}))})})},O=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),s=Object(d.a)(i,2),l=s[0],r=s[1],O=Object(n.useState)(!1),h=Object(d.a)(O,2),v=h[0],m=h[1],x=Object(n.useState)({}),f=Object(d.a)(x,2),p=f[0],k=f[1],g=Object.keys(p)&&(null===p||void 0===p?void 0:p.resultCount)>0,N=Object(n.useCallback)(Object(j.debounce)((function(e){return function(e){a(!1),m(!0),o("https://itunes.apple.com/search?term=".concat(e,"&music=musicTrack&limit=100"),k)}(e)}),500),[]);return Object(n.useEffect)((function(){Object.keys(p).length&&(a(!0),m(!1))}),[p]),Object(u.jsxs)("section",{className:"home",children:[Object(u.jsx)("h1",{children:"iTunes Music Searcher"}),Object(u.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value;r(t),N(t)}}),c?null:Object(u.jsx)("p",{children:"Please type a filter..."}),v?Object(u.jsxs)("p",{children:["Searching for ",l]}):null,g?Object(u.jsx)(b,{data:null===p||void 0===p?void 0:p.results}):null]})},h=function(){var e=Object(n.useState)({}),t=Object(d.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),s=Object(d.a)(i,2),l=s[0],j=s[1],b=Object(r.g)().trackId,O=Object(r.f)(),h=function(e){(null===e||void 0===e?void 0:e.resultCount)>0&&a(e.results[0])};return Object(n.useEffect)((function(){o("https://itunes.apple.com/search?term=".concat(b,"&music=musicTrack&limit=100"),h)}),[b]),Object(n.useEffect)((function(){Object.keys(c).length&&j(!0)}),[c]),Object(u.jsxs)("section",{className:"track-details",children:[Object(u.jsx)("h1",{children:"iTunes Music Searcher"}),Object(u.jsx)("div",{className:"panel",children:Object(u.jsx)("button",{href:"#",onClick:function(){return O.goBack()},children:"Go Back"})}),l?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"panel",children:Object(u.jsx)("img",{src:null===c||void 0===c?void 0:c.artworkUrl100,alt:"".concat(null===c||void 0===c?void 0:c.artistName," - ").concat(null===c||void 0===c?void 0:c.trackName)})}),Object(u.jsx)("div",{className:"panel",children:Object(u.jsxs)("span",{className:"meta",children:[null===c||void 0===c?void 0:c.artistName," - ",null===c||void 0===c?void 0:c.trackName]})}),Object(u.jsx)("div",{className:"panel",children:Object(u.jsx)("audio",{src:null===c||void 0===c?void 0:c.previewUrl,controls:!0})})]}):Object(u.jsx)("h2",{children:"Loading track details"})]})};var v=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(l.a,{children:Object(u.jsxs)(r.c,{children:[Object(u.jsx)(r.a,{exact:!0,path:"/",children:Object(u.jsx)(O,{})}),Object(u.jsx)(r.a,{path:"/:trackId",children:Object(u.jsx)(h,{})})]})})})},m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,33)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root")),m()}},[[32,1,2]]]);
//# sourceMappingURL=main.38ef1d0c.chunk.js.map